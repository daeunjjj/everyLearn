<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="lectureMapper">
  
  <!-- 강의 등록 -->
  <insert id="insertClassOne">
	INSERT INTO CLASS
		(
		    NO
		    , TEACHER_NO
		    , CATEGORY
		    , C_NAME
		    , C_CONTENT
		    , PRICE
		    , ENROLL_DATE
		)
	VALUES
		(
		    SEQ_CLASS_NO.NEXTVAL
		    , 1
		    , #{category}
		    , #{cName}
		    , #{cContent}
		    , #{price}
		    , SYSDATE
		)
  </insert>
  
  
  <!-- 강의 목차 등록 -->
	<insert id="insertClassDetail" parameterType="java.util.List">
		INSERT INTO DETAIL_CLASS
			(
			NO
			, CLASS_NO
			, CHAPTER
			)
		VALUES
			<foreach collection="list" item="item" separator=",">
				(#[item.no}, 2, #{item.chapter})
			</foreach>
	
	</insert>
	
	<!-- 강의 메인 리스트 조회 -->
	<!-- 게시판 목록 -->
    <select id="getList" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT 
        	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
    
    </select>
	
	<!-- 강의 메인 - 카테고리 드로잉 -->
	<select id="getListDrawing" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT 
        	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        WHERE CATEGORY = '1'
    
    </select>
    <!-- 강의 메인 - 요리 / 베이킹 -->
    <select id="getListCook" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT 
        	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        WHERE CATEGORY = '2'
    
    </select>
    
    <!-- 강의 메인 - 카테고리 운동 -->
     <select id="getListWorkout" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT 
        	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        WHERE CATEGORY = '3'
    
    </select>
    
    <!-- 강의 메인 - 카테고리 음악 -->
     <select id="getListMusic" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT
        	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        WHERE CATEGORY = '4'
    
    </select>
    
    <!-- 강의 메인 - 카테고리 it -->
     <select id="getListItTech" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT 
        	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        WHERE CATEGORY = '5'
    
    </select>
    
    <!-- 강의 메인 - 카테고리 언어 -->
     <select id="getListLanguage" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT 	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        WHERE CATEGORY = '6'
    
    </select>
    
    <!-- 강의 메인 - 카테고리 금융 -->
     <select id="getListFinance" resultType="com.coding5.el.lecture.vo.LectureVo">
    
        SELECT 	NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        WHERE CATEGORY = '7'
    
    </select>
    
    
    <!-- 강의 검색 -->
    <select id="getSearch" resultType="com.coding5.el.lecture.vo.LectureVo">
    	SELECT 	
    		NO
			,TEACHER_NO
			,CATEGORY
			,C_NAME as ccName
			,C_CONTENT
			,RECOMM
			,STUDENT_CNT
			,PRICE
			,ENROLL_DATE
			,MODIFY_DATE
			,DELETE_YN
			,CLASS_CNT 
        FROM CLASS
        <if test="keyword != null and keyword != ''">
			WHERE C_NAME LIKE  '%${keyword}%'
		</if> 
		

    </select>


  
</mapper>
